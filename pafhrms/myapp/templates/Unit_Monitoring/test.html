{% extends 'Base/base.html' %}
{% block content %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit Dashboard</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        .card {
            margin-bottom: 20px;
        }
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #f0f0f0;
            padding: 10px 15px;
            border-bottom: none;
            cursor: pointer;
        }
        .card-title {
            margin-bottom: 0;
        }
        .btn-tool {
            padding: 5px;
            background-color: transparent;
            border: none;
            transition: transform 0.3s ease;
        }
        .btn-tool.collapsed .fa-plus {
            display: inline-block;
        }
        .btn-tool .fa-plus {
            display: none;
        }
        .btn-tool.collapsed .fa-minus {
            display: none;
        }
        .btn-tool .fa-minus {
            display: inline-block;
        }
        .card-body {
            overflow: hidden;
            transition: height 0.3s ease;
            padding: 15px;
            margin-bottom: 20px;
        }
        .card.collapsed .card-body {
            height: 0;
            padding: 0;
            margin-bottom: 0;
        }
    </style>
</head>
<body>

<div class="container">
    <!-- First Accordion Section -->
    <div class="card">
        <div class="card-header" onclick="toggleCollapse('accordion1')">
            <h3 class="card-title">GUAS</h3>
            <!-- Collapse button -->
            <button type="button" class="btn btn-tool">
                <i class="fas fa-minus"></i>
            </button>
        </div>
        <div class="card-body" id="accordion1">
            <!-- Table or content that you want to collapse -->
            <table class="table">
                <thead>
                    <tr>
                        <th>UNIT</th>
                        <th>Officers Count</th>
                        <th>Enlisted Count</th>
                    </tr>
                </thead>
                <tbody>
                    {% for unit in units_of_interest1 %}
                    <tr>
                        <td>{{ unit }}</td>
                        <td>
                            {% for count in unit_counts1 %}
                                {% if count.UNIT == unit %}
                                    {{ count.officers_count }}
                                {% endif %}
                            {% endfor %}
                        </td>
                        <td>
                            {% for count in unit_counts1 %}
                                {% if count.UNIT == unit %}
                                    {{ count.enlisted_count }}
                                {% endif %}
                            {% endfor %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!-- Second Accordion Section -->
    <div class="card">
        <div class="card-header" onclick="toggleCollapse('accordion2')">
            <h3 class="card-title">Second Accordion Section</h3>
            <!-- Collapse button -->
            <button type="button" class="btn btn-tool">
                <i class="fas fa-minus"></i>
            </button>
        </div>
        <div class="card-body" id="accordion2">
            <!-- Table or content for the second accordion -->
            <table class="table">
                <thead>
                    <tr>
                        <th>UNIT</th>
                        <th>Officers Count</th>
                        <th>Enlisted Count</th>
                    </tr>
                </thead>
                <tbody>
                    {% for unit in units_of_interest2 %}
                    <tr>
                        <td>{{ unit }}</td>
                        <td>
                            {% for count in unit_counts2 %}
                                {% if count.UNIT == unit %}
                                    {{ count.officers_count }}
                                {% endif %}
                            {% endfor %}
                        </td>
                        <td>
                            {% for count in unit_counts2 %}
                                {% if count.UNIT == unit %}
                                    {{ count.enlisted_count }}
                                {% endif %}
                            {% endfor %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

</div>

</body>
</html>

<script>
    function toggleCollapse(id) {
        var cardBody = document.getElementById(id);
        var card = cardBody.closest('.card');
        
        // Toggle the 'collapsed' class on the card
        card.classList.toggle('collapsed');
    }
</script>

{% endblock %}
